# CSA_IR_system
## Information Retrieval系统简介
此系统储存客户对于南航飞行体验的评价。用户可以键入关键词，检索对应的相关评价，并获得对搜取评价的观点抽取，从而了解南航用户在飞行体验中的诸多反馈。从询问词到对应评价的检索基于BM25算法，对评价的观点抽取采用了cocoNLP算法

## 输入文件
该程序运行需要2份文件，用户评价表格，与停用词。用户评价表格记录有用于检索的评价库，格式为`csv`文件，在提供样例中为`text.csv`，文件格式如下
|text|
|----|
|到达之后乘坐摆渡车，之前乘坐摆渡车都是直接到行李提取那一层，T2的有的时候直接从登机口出来，走一段去行李提取，这次摆渡车绕半天去了一楼的一个登机口，然后再走巨长一段路去行李到达，中间没有小推车，只能自己提着行李，差评|   
|其他都没问题，延误2小时，郁闷|  
|升舱为什么没有餐食？！|  

停用词文件记录了需要去除的无意义词汇，可根据需求修改，在样例中为`stop_words.txt`

## 输出文件
输出文件为`csv`格式，包含4个字段。query: 搜索词，text: 原文，token: 分词 frequency: 分词频率
|query|text|token|frequency|
|----|----|----|----|
|机票|飞机餐配点咸菜好|飞机 餐配 点 咸菜|[('飞机', 1), ('餐配', 1), ('点', 1), ('咸菜', 1)]|

## 程序操作
程序以jupyter notebook格式，运行程序只需于头部cell修改3个变量。
|query|textname|tofile|
|----|----|----|
|搜索词|输入文件名|输出文件名|
## package
rank_bm25
snownlp
cocoNLP

